# ER図1
# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。
## 全体
- 管理人テーブルだけ色が異なる
  > 他のテーブルと区別する意図がありますか
- created_at, updated_atにあたるカラムが見当たらない
  > デフォルトで生成されるcreated_at, updated_atの記述をお願いします。持たない理由があれば教えてください。
- リレーションにおいて、一方向から見た多重度しか書かれていない
  > ER図において、エンティティ(テーブルのこと)をつなぐリレーションには、二方向から見た多重度を記述してください。
- 「入荷」を管理するテーブルがない
  > 管理者は入荷を管理できる必要があります。どのように行いますか。
## エンドユーザ
- 管理人IDをFKとして持っている
  > 管理者IDを外部キー(FK)として持っています。なんのために必要か考えてみてください。
- 要件「現住所とは別に複数の配送先データをもつ」のためのテーブルがない
  > 「現住所とは別に複数の配送先データをもつ」必要がありますが、どのようにそれを保持しますか。
- 要件「退会状態を管理する」ために、レコードを削除するしかない
  > 退会したユーザの取り扱いはどのようにしますか。退会した場合の他のテーブルへの影響も考えてください。
## 商品
- 管理人IDをFKとして持っている
  > 管理者IDを外部キー(FK)として持っています。なんのために必要か考えてみてください。
- アーティスト名をカラムとして持っている
- レーベル名をカラムとして持っている
- ジャンルをカラムとして持っている
- 以上3つに関しては新しくテーブルを作って欲しい
  > アーティスト。レーベル・ジャンル名は、複数のレコードで同じ値が何度も出てきます。それぞれ別の表に切り出してください。(これのレビューが微妙。正規化の問題かどうかわからない)
- 「シングル・アルバム内の曲名」は繰り返しになる
  > 「シングル・アルバム内の曲名」は1レコード内で何度か繰り返されるので、第一正規化ができていません。別のテーブルに切り出しましょう。
- 「発売日」がない
  > 発売日はどのように保持しますか。
- 「ディスク枚数」がない
- 要件「ディスクに対応して曲を管理できる」が行えない
  > 「ディスクに対応して曲を管理できる」必要があります。どのように行いますか。「シングル・アルバム内の曲名」に関する指摘と合わせて考えてください。
- 「在庫数」を持っている
  > 要件に「在庫数は入荷記録と受注詳細記録から算出する」とあります。在庫数カラムを持つ理由があれば教えてください。
- 「ステータス(取り扱い)」では分かりづらい(要件に沿っていない)
  > 販売中・販売中止を管理するのが「ステータス(取り扱い)」カラムかと思われますが、名前から機能が推測しづらいです。
## 決済
- 「"支払い方法"と"送付先"」を格納するテーブルの名前が「決済」だと、前者しか含んでいない
  > このテーブルは"支払い方法"と"送付先"という情報を保持していますが、「決済」というテーブル名では前者しか表せていません。
- 要件「どの商品がいくつ、いくらで購入したか記録する」が行えない
  > 「どの商品がいくつ、いくらで購入したか記録する」必要があります。どのように行いますか。
- 「宛名」と「郵便番号」を持っていない
  > 宛名と郵便番号はどのように保持しますか。
## 購入履歴
- 「購入履歴」テーブルが存在する意味がわからない
  > 購入履歴テーブルはステータス(配送状況)の情報しか持っていません。このテーブルが必要か考えてみてください。
## カート
- PKが「注文ID」となっていて、テーブル名と異なる
  > PKが「決済ID」となっておりテーブル名と異なります。意図的であれば理由を教えてください。
- カートとエンドユーザとの間にリレーションがない(FKもない)
  > カートとエンドユーザの間にリレーションがありません。カートテーブルのレコードがどのユーザのものかわかりませんが、問題ありませんか。
- 商品IDをFKとして持っているのに、「アーティスト名」・「ジャケット画像」・「シングル/アルバム名」がある
  > 「アーティスト名」「ジャケット画像」「シングル/アルバム名」を持っていますが、これらは商品テーブルから引っ張ってくればよいので持つ必要はありません。カラムとして持つ理由があれば教えてください。
- 「カート」テーブルで「カートに入れた商品」と「実際に買った商品」を管理しようとしていると推測されるが、分けたほうが良い
  > 「カート」テーブルで「カートに入れた商品」と「実際に買った商品」の2つを管理しようとしていると推測しました。この2つは必要な情報が異なるので、別のテーブルに分けたほうが良いです。
- 要件「複数の商品を指定した数で購入するためのカートデータをもつ」が成り立っていない
  > (自分で書いたものだが、この指摘が何を意図していたのかわからない)
- 購入価格を持っていない
- 送料を持っていない
- 一度の購入での合計金額を持っていない
  > (↑3つは「どの商品がいくつ、いくらで購入したか記録する」必要があります。どのように行いますか。と重複するため省略)
## 指摘事項
- 合格です！

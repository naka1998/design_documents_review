# ER図2
## 全体
- 指摘事項

## テーブル名
- 指摘事項

# 注意
* マークダウン形式で記入してください。
* 全体を通しての指摘事項の場合、テーブル名の部分を「全体」「共通」などとしてください。

## 全体
- 多重度が片側しか書かれていない
  > エンティティをつなぐリレーションに多重度が1つしか記述されていません。双方向から見た多重度を書いてください。
- 商品の入荷履歴を管理するテーブルがない
  > 管理者は入荷を管理できる必要があります。どのように行いますか。
## 管理者
- エンドユーザと商品との間にそれぞれリレーションがあるが、該当する外部キーがない。そもそもリレーションいらない
  > エンドユーザと商品との間にリレーションがあります。このリレーションが本当に必要なのか、もう一度考えてみてください。
- PKが存在しない
  > 主キー(PK)である管理者IDが存在しません。理由があれば教えてください。
## エンドユーザ
- 「名」を持たない
  > 「名」をどのように保持しますか。
- 「配送先」を複数持つことができない。テーブルを分けていない
  > 「配送先」は複数持つことが考えられるので、第一正規化ができていません。テーブルを切り出してください。
- テーブル名「エンドユーザ」とPK「ユーザーID」で表記揺れがある
  > テーブル名と「ユーザーID」が対応していません。理由があれば教えてください。
## カートアイテム
- PKが存在しない
  > 主キー(PK)が存在していません。追加してください。
- 小計金額は必要ない
  > 小計金額は商品テーブルの税別価格と購入枚数から計算で出すことができるので不要です。このカラムを持つ理由があれば教えてください。
## 購入
- テーブル名は「受注」等、店主から見た名前のほうがよい
  > テーブル名「購入」はエンドユーザから見た命名です。管理者(店主)から見た命名にしてください。
- 購入日は必要ない(要件にない)。そもそも登録日でわかる
  > 購入日を持つことは要件にないので不必要です。また、登録日を見ればわかることも確認してください。
- 「宛名」を持たない
  > 宛名はどのように保持しますか。
- 「購入詳細ID」を持っている
  > 購入詳細IDを持っています。多重度を考慮して、もう一度考えてみてください。また、カラムとして持たない場合、購入詳細とのリレーションをどこで保持しますか。
## 購入詳細
- 「購入ID」を持たない
  > (直前の指摘と重複するため省略)
- 商品とのリレーションはない
- 「商品ID」を持たない
  > 「どの商品を購入したか」をどのように判別しますか。
- 購入に対する多重度が0以上になっている
  > 購入テーブルに対する多重度が0以上になっていますが、実際のケースを想像してもう一度考えてみてください。
## 商品
- 「ディスクID」を持っている
  > (「ディスク」内の指摘と重複するため省略)
- 「発売日」を持たない
  > 発売日をどのように保持しますか。
- 「ステータス(取り扱い)」では分かりづらい
  > 「ステータス(取り扱い)」というカラム名から、その機能が推測しづらいです。
- 「在庫数」を持っている
  > 在庫数は他のカラムから計算可能です。カラムとして持つ理由があれば教えてください。
- カートアイテムに対する多重度が1以上になっている
  > カートアイテムに対する多重度が1以上になっていますが、0の場合がないかもう一度考えてみてください。
- 「ディスク枚数」は不要
  > ディスク枚数は「あるレコードに紐付いたディスクレコードの数」から計算可能であり、カラムとしては持つ必要はありません。持つ理由があれば教えてください。
## ディスク
- 「商品ID」を持たない
- 商品に対する多重度が1以上になっている
  > 商品テーブルに対する多重度が1以上になっていますが、実際のケースを想像してもう一度考えてみてください。
  > また、多重度を変更すればそれに関連するレーブルの外部キーの記述も変わることがあります。注意してください。
- 「トラックNo.」を持っている
  > トラックNo.は「あるディスクの中に存在する曲の順番」を意味します。それを踏まえた上でディスクテーブルに持つのが適当か考えてください。
## 曲名
- テーブル名「曲名」は違和感。管理するのは「曲」のはず
  > テーブル名を「曲名」とするのは適切ではありません。そのテーブルで管理するものを考えた命名にしてください。
- 「ディスクID」を持たない
- ディスクに対する多重度が1以上になっている
  > ディスクテーブルに対する多重度が1以上になっていますが、実際のケースを想像してもう一度考えてみてください。
  > また、多重度を変更すればそれに関連するレーブルの外部キーの記述も変わることがあります。注意してください。
- 「トラックNo.」を持っていない
  > (「ディスク」内の指摘と重複するため省略)
## ジャンル・レーベル・アーティスト
- 表記揺れ。〇〇名で統一したほうが良い
  > それぞれのテーブルで名前を管理するカラムに表記揺れがあります。「〇〇名」などとしたほうがよいです。
- 商品に対する多重度が1以上になっている
  > 商品テーブルに対する多重度が1以上になっていますが、実際のケースを想像して0の場合がないかもう一度考えてみてください。


# **研修担当レビュー**
<font color="red">合格です！</font>
